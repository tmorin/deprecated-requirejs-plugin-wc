define("wc",["module"],function(e){function a(e){return e.config&&e.config.ws&&e.config.ws?e.config.ws.debug:u.ws&&u.ws.debug}function f(e){return e.config&&e.config.ws&&e.config.ws?e.config.ws.standardModule:u.ws&&u.ws.standardModule}function l(e){return e.config&&e.config.ws&&e.config.ws?e.config.ws.xTagModule:u.ws&&u.ws.xTagModule}function c(e){return e.config&&e.config.ws&&e.config.ws?e.config.ws.polymerModule:u.ws&&u.ws.polymerModule}function h(e){return e.config&&e.config.ws&&e.config.ws?e.config.ws.defaultPlatform:u.ws&&u.ws.defaultPlatform}function p(e,t){var n=i.test(e),r=s.test(e),o=h(t);return n?"polymer":r?"xtag":o?o:"standard"}function d(e){return e.replace("!imp","").replace("!dec","").replace("!polymer","").replace("!xtag","")}function v(e,t,n,r,s){var u,l=i.test(e),h=o.test(e),d=p(e,r);a(r)&&console.log("wc","registerHTMLElements","currentPlatform",d),l?u=c(r):h?u=f(r):d==="polymer"?u=c(r):u=f(r),u?t([u],function(){var e=Array.prototype.map.call(s,function(e){var t=document.createElement("div"),r,i;t.appendChild(e);if(!window.CustomElements)throw i=new Error("the "+u+" module has been loaded but CustomElements is not available"),n.error(i),i;return window.CustomElements.parser.parse(t),r=window[e.getAttribute("constructor")],r});a(r)&&console.log("wc","registerHTMLElements","tags",e),n(e.length>1?e:e[0])},function(e){n.error(new Error("unable to load the module ["+u+"]",e))}):n.error(new Error("polymerModule and/or platformModule not configured"))}function m(e,t,n,r){var i=d(e);a(r)&&console.log("wc","declarative load of",i),t(["text!"+i],function(s){var o=document.createElement("div"),u,f,l,c=/.*\//.exec(i)||"",h=p(e,r);o.innerHTML=s,u=o.querySelectorAll("element"),f=o.querySelectorAll('link[rel="import"]'),f.length>0?(l=Array.prototype.map.call(f,function(e){return"wc!"+c+e.getAttribute("href")+"!dec"+"!"+h}),a(r)&&console.log("wc","will import",l),require(l,function(){v(e,t,n,r,u)})):v(e,t,n,r,u)},function(e){n.error(e)})}function g(e,t,n,r,i){var s,o;document.register?(s=document.register(e,t),r(s)):(o=f(i),o?n([o],function(){a(i)&&console.log("wc","standard platform module",o,"loaded"),document.register?(s=document.register(e,t),r(s)):r.error(new Error("no document.register"))},function(e){r.error(new Error("unable to load the module ["+o+"]",e))}):r.error(new Error("standardModule not configured")))}function y(e,t,n,r,i){var s,o=l(i);o?n([o],function(n){a(i)&&(console.log("wc","loaded xtag",n),console.log("wc","register",e,t)),s=n.register(e,t),r(s)},function(e){r.error(new Error("unable to load the module ["+o+"]",e))}):r.error(new Error("xTagModule not configured"))}function b(e){var t=e.lastIndexOf("/");return t>-1?e.substring(t+1):e}function w(e,t,n,r){var i=d(e),u=o.test(e),f=s.test(e);a(r)&&console.log("wc","isXTag",f,"xtag",!!window.xtag),t([i],function(e){var s=b(i);f?y(s,e,t,n,r):u?g(s,e,t,n,r):g(s,e,t,n,r)},function(e){n.error(e)})}var t,n=/!imp/,r=/!dec/,i=/!polymer/,s=/!xtag/,o=/!std/,u=e.config&&e.config()||{};return t={load:function(e,t,i,s){var o=n.test(e),u=r.test(e);a(s)&&(console.log("wc","will load",e),console.log("wc","isImp",o,"isDec",u));if(o)w(e,t,i,s);else{if(!u)throw"no options !imp or !dec found!";m(e,t,i,s)}}},t});